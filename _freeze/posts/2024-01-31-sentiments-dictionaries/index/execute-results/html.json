{
  "hash": "b932cac9786c6b7ef3021374b1376f35",
  "result": {
    "markdown": "---\ntitle: \"Notes on Sentiment Dictionaries\"\ndescription: \"For Reference Purposes\"\nauthor: Justin Dollman\ndate: 01-31-2023\ndate-modified: 02-06-2024\ncategories: [sentiment analysis, R, text analysis, lexicon]\nimage: zissou_swirls2.png\ndraft: false\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nc(TRUE, 1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1 1\n```\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n# Introduction\n\nChances are, if you're going to do a mid-2000s to mid-2010s style sentiment analysis, you're going to use a sentiment dictionary (*nom professionnel*, \"sentiment lexicon\"). When reaching for one of these things, you've got quite a few options. This *embarras de richesse* raises the question, *Which should I use?* Both for your and my future reference, below I have a description of 10 or so dictionaries that I've come across quite a few times and found worth investigating why they were invented and if they should ever still be used.^[For most of them the answer is probably not.] Regardless of what I say below, remember that you'll probably have to think about your application when choosing a dictionary; there is no one-size-fits-all best choice.\n\nWith that, let's go through these things in alphabetical order.\n\n## AFINN\n\nThe subtitle of [the original publication](https://arxiv.org/abs/1103.2903) says it all, \"Evaluation of a word list for sentiment analysis in microblogs.\" In the paper's abstract, the great Dane and presumably the namesake of the lexicon, Finn Arup Nielsen, lays out more explicitly why he created a new sentiment lexicon, \"There exist several affective word lists, e.g., ANEW (Affective Norms for English Words) developed before the advent of microblogging and sentiment analysis. I wanted to examine how well ANEW and other word lists performs for the detection of sentiment strength in microblog posts in comparison with a new word list specifically constructed for microblogs.\" There's AFINN's origin story.^[I think it's also the explanation for AFINN's name. It's a portmanteau of the 'A' from 'ANEW' and 'FINN', this guy's christian name.]\n\nOne of the unique features of the AFINN lexicon is that words are mapped to integers instead of merely {*positive*, *negative*}. Here you can see a few words at each value:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(1)\n\nget_sentiments('afinn') %>%\n  group_by(value) %>% \n  add_count(name = 'count') %>% \n  slice_sample(n = 4) %>%\n  summarise(\n    `no. words` = mean(count),\n    words = glue_collapse(word, sep = ', ')) %>% \n  arrange(value) %>% filter(value != 0)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 3\n   value `no. words` words                                      \n   <dbl>       <dbl> <glue>                                     \n 1    -5          16 motherfucker, bitches, cocksuckers, bastard\n 2    -4          43 scumbag, fucking, fraudsters, fucked       \n 3    -3         264 moron, destroy, despair, scandals          \n 4    -2         966 animosity, censors, robs, touts            \n 5    -1         309 imposing, unclear, demonstration, uncertain\n 6     1         208 share, extend, feeling, commit             \n 7     2         448 tranquil, consent, supportive, sympathetic \n 8     3         172 audacious, classy, luck, gracious          \n 9     4          45 exuberant, wonderful, rejoicing, wowww     \n10     5           5 hurrah, outstanding, superb, thrilled      \n```\n:::\n:::\n\n\nAnd yes, I did set the seed above to avoid randomly showing you certain words. \n\nYou might be wondering \n\na) why -5 to 5 and \nb) how he assigned words to those numbers\n\nQuoting him, for the former, \"As SentiStrength it uses a scoring range from −5 (very negative) to +5 (very positive).\" Convention is powerful. As for the latter, the question of how numbers were assigned to words, \"Most of the positive words were labeled with +2 and most of the negative words with –2 [...]. I typically rated strong obscene words [...] with either –4 or –5.\" So he was basically winging it.\n\nAnother unique feature: the dictionary has 15 bigrams, 10 of which are below.^[\"some kind\" is the *only* entry in the dictionary with a 0 value.]\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(12)\nget_sentiments('afinn') %>%\n  filter(str_detect(word, ' ')) %>% \n  slice_sample(n = 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 2\n   word          value\n   <chr>         <dbl>\n 1 cashing in       -2\n 2 no fun           -3\n 3 green wash       -3\n 4 not good         -2\n 5 dont like        -2\n 6 not working      -3\n 7 some kind         0\n 8 green washing    -3\n 9 cool stuff        3\n10 messing up       -2\n```\n:::\n:::\n\n\n* **Size**: 2477 entries\n* **Coverage**: In addition to the bog-standard sentiment words, it has words all the cool kids were saying in the late 2000, early 2010s.\n* **R Packages**: `tidytext`, `lexicon`, `textdata`\n* **Publication**: [Here](https://arxiv.org/abs/1103.2903)\n* **Bottom Line**: It's been superseded by VADER (below)\n\n## Bing (aka Hu and Liu)\n\nI'm not sure why this sentiment lexicon is occasionally referred to as \"Bing\" when Bing Liu is just one of the two creators, but so it is. Bing Liu *has* written a textbook on sentiment analysis and [his website](https://www.cs.uic.edu/~liub/FBS/sentiment-analysis.html) is a thing of beauty, so I'd say he deserves all good things.\n\nAccording to the man [himself](https://www.cs.uic.edu/~liub/FBS/sentiment-analysis.html#lexicon), \"This list [i.e., the lexicon] was compiled over many years starting from our first paper (Hu and Liu, KDD-2004).\" I'm not sure what the post-publication compilation process was, but the original process is well-described in [the original publication](https://dl.acm.org/doi/abs/10.1145/1014052.1014073). Essentially, they started with adjectives^[Yes, only adjectives. Other parts of speech have since been added.] with obvious polarity (e.g., *great*, *fantastic*, *nice*, *cool*, *bad*, *dull*) as 'seed words' and collected synonyms (and antonyms) of those words, then synonyms and antonyms of those words, and so on, iteratively. To do this, they used [WordNet](https://wordnet.princeton.edu/), a chill-ass semantic network. One thing that's nice about the resulting lexicon is that it's topic general. That is, though they developed this lexicon for the specific purpose of determining people's opinions about product features in product reviews, it has a generality beyond that. \n\nActually looking at the words, you'll notice there's some weirdness.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(get_sentiments('bing'), 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 2\n   word        sentiment\n   <chr>       <chr>    \n 1 2-faces     negative \n 2 abnormal    negative \n 3 abolish     negative \n 4 abominable  negative \n 5 abominably  negative \n 6 abominate   negative \n 7 abomination negative \n 8 abort       negative \n 9 aborted     negative \n10 aborts      negative \n```\n:::\n:::\n\n\nFirst, I'm not sure what \"2-faces\" is. If you say that it's a solecistic rendering of \"two-faced,\" I'd say probably. In their appropriate alphabetic order, both \"two-faced\" *and* \"two-faces\" appear later in the dictionary. Anyway, you'll notice as well that a lot of the words would reduce to a single lemma if we lemmatized the dictionary. You can think of that as a positive feature of the BING dictionary. It means you don't have to have lemmatized (or stemmed) or text. But its inclusion of derived words seems a bit haphazard. The *abort*-*aborted* pair is there, but *abolish* is hanging out along without its past tense.\n\n* **Size**: In the `tidytext` package the BING dictionary has 6786 terms (matching what his website says, \"around 6800 words\")\n* **R Packages**: `tidytext`, `lexicon`, `textdata`\n* **Bottom Line**: It's a classic and got wide coverage, but not as good as VADER or NRC-EIL.\n\n## Loughran-McDonald Master Dictionary w/ Sentiment Word Lists\n\nI'm honestly why this dictionary is included in packages -- not because it's bad^[In fact, it's being actively maintained which is *nice*.], but because it's so (*so so so*) niche. If you're doing text analysis on financial text (or aware of cool research doing this), please drop me a line and tell me about it.\n\nIf you want to learn about it, here's [the page](https://sraf.nd.edu/loughranmcdonald-master-dictionary/).\n\n* **R Packages**: `tidytext`, `lexicon`, `textdata`\n\n## NRC (original)\n\nSaif Mohammed and friends developed a few National Research Council (NRC) of Canada-sponsored sentiment dictionaries. The first of them assigns words not only polarity labels (positive, negative), but emotion labels as well:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntidytext::get_sentiments('nrc') %>% \n  count(sentiment, sort = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 2\n   sentiment        n\n   <chr>        <int>\n 1 negative      3318\n 2 positive      2308\n 3 fear          1474\n 4 anger         1246\n 5 trust         1230\n 6 sadness       1187\n 7 disgust       1056\n 8 anticipation   837\n 9 joy            687\n10 surprise       532\n```\n:::\n:::\n\n\nThese eight emotions below negative and positive were theorized by Bob Plutchik to be fundamental, or something.^[Before researching for this post, I hadn't heard of Plutchik or his theory of emotions. The idea of basic emotions is definitely a thing, however (see Ekman's \"An argument for basic emotion\"). To see if people are using this guy's ideas, I looked over a few syllabi for psychology of emotion courses and through Michelle Shiota and James Kalat's *Emotion* textbook. Nothing in the syllabi. He was mentioned in the textbook, but just as a proponent of basic emotion. Using their sole citation to a work of Plutchik's, I went to Google Scholar to see if people are citing this thing. The idea is that, if people are citing it, then it's an active theory, if not it's scientifically dead. What I found was that it's not being cited that much, but when it is, it's by people doing sentiment analysis. It reminds me a little of Freud-psychology situation: if you take Freud seriously, you're not taking psychology seriously. Maybe with Plutchik, if you take Plutchik seriously, you're not taking emotion research seriously?] I'm going to ignore those emotions in this subsection. I'm also not going to talk too much about this dictionary, because it's superseded by the real-valued its successors, the NRC-EIL and NRC-VAD (below).\n\nBefore I leave this lexicon, though, one bizarre thing about it: 81 words are both positive and negative (???)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nget_sentiments('nrc') %>% \n  filter(sentiment %in% c('negative', 'positive')) %>% \n  add_count(word) %>% \n  filter(n > 1) %>% select(-n)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 162 × 2\n   word       sentiment\n   <chr>      <chr>    \n 1 abundance  negative \n 2 abundance  positive \n 3 armed      negative \n 4 armed      positive \n 5 balm       negative \n 6 balm       positive \n 7 boast      negative \n 8 boast      positive \n 9 boisterous negative \n10 boisterous positive \n# ℹ 152 more rows\n```\n:::\n:::\n\n\nAs a matter of semantics, I get it for some of these (*balm* I do not get, though). Practically, if you're doing an analysis with this dictionary, you're probably going to want to remove all these terms before calculating sentiment scores.\n\n* **R Packages**: `tidytext`, `lexicon`, `textdata`\n* **Size**: 5464 words (positive and negative, not words with ambiguous polarity)\n* **Bottom Line**: Superseded by Saif Mohammed's subsequent efforts.\n\n## NRC-EIL\n\nThis thing's value-added, as my economist friend likes to say, is that instead of a simple 'positive' or 'negative' value for each sentiment entry, there's a number *between* -1 and 1. \"Real-valued,\" as measurement-heads say. This is actually *extremely* important if you're aggregating word-level sentiment into something bigger (which ... honestly email me if you're doing anything other than that.) _How_ they got these real-valued polarity scores is actually a pretty interesting methods story if you're into that kind of thing, but I won't go into 'MaxDiff scaling' here. One very important thing to note about this dataset, though, is that valence is that **polarity isn't in this dataset**. This vexed me for a minute before I realized that it's in the real-valued NRC-VAD (below). So, on the off chance you're looking for the best measurement of Plutchik's eight basic emotions (and that's a very off chance), this is the best place to look.\n\n* **R Packages**: `textdata`\n* **Examples**: You can see an example of an analysis of Ezra Klein's podcasts [here](link forthcoming).\n* **Bottom Line**: I'm not sure *why* it exists, but it's the only lexicon doing what it's doing.\n\n## NRC-VAD\n\nOnce you have a hammer, everything starts looking like a nail. That's how I explain the existence of this dictionary to myself. Saif Mohammed & Co. found these cool scaling technique and were like, \"On what dimensions can we scale more words?\" They seem to have stumbled on this idea the three most fundamental dimensions in concept space are valence, arousal, and dominance. Maybe it's an indictment of my memory, perhaps an indictment of the psychology department at the University of Arkansas, but I managed to graduate *summa cum laude* with a degree in psychology without ever hearing of this. Regardless of supposed fundamental dimensions in concept space, valence is fundamental and is just another word for polarity which is the main thing people are doing with sentiment dictionaries. \n\nThis also led to my favorite table in I've ever seen in an academic article\n\n![]()\n\nWhenever I need to express that something is pure bad valence, I now reach for the phrase 'toxic nightmare shit.'\n\n* **R Packages**: `textdata`\n* **Bottom Line**: Hell yeah.\n\n## VADER\n\nIs VADER evil? Maybe. But it also stands for **V**alence **A**ware **D**ictionary and s**E**ntiment **R**easoner.^[This dictionary is definitely winning the marketing competition. I asked ChatGPT IV to make sentiment dictionary names corresponding to the initialisms SKYWALKER AND LEIA and got \"Lexicon of Emotion Intensity and Analysis\" for the latter. SKYWALKER was rough.] Impressively, the found \"that VADER outperforms individual human raters\" when classifying tweets as positive, accurate, or neutral.^[You should be wondering how it's _possible_ for this metric to be better than human raters at classifying tweets' sentiment if the ground truth of what a tweet's sentiment is comes from humans. Just to be impish, I'm actually not going to answer that question; I'll just that that the word _individual_ in \"individual human raters\" is very important.] Part (most?) of that impressiveness is due to the 'ER' of VADER. Nevertheless, here I'm only considering the *VAD* part. If you want to check out its ruled-based sentiment reasoning, check out its [github page](https://github.com/cjhutto/vaderSentiment) or [publication](https://ojs.aaai.org/index.php/ICWSM/article/view/14550).\n\nThe lexicon has an impressive 7,500 entries, each with its associated polarity *and* intensity (-4 to 4). Did they get those intensities just winging it like Finn? Nope. Each potential entry was placed on the -4 to 4 scale by 10 Amazon Mechanical Turk workers.^[Not necessarily the same 10 workers for every word!] The score you *do* see in the dictionary means that a) raters' scores had a standard deviation of less than 2.5^[If there was no consensus (operationalized as a standard deviation > 2.5), the candidate word didn't make it into the dictionary.] and b) that the mean rating among the 10 raters was not 0.^[I wonder if they meant to say that it didn't _round_ to zero. If you had 9 people rate a word at 0 and a single person rate it at 1, the word wouldn't have a mean rating of zero, but ... c'mon. Note: After writing that as an obviously ridiculous footnote, I was looking through the dictionary and noticed _calmodulin_, a word I had never seen. It received 8 zeros and 2 ones.]\n\nOne interesting feature of the lexicon is its inclusion of emoticons.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvader <- read_delim('https://raw.githubusercontent.com/cjhutto/vaderSentiment/master/vaderSentiment/vader_lexicon.txt',\n                    delim = '\\t', col_names = FALSE) %>% magrittr::set_names(c('token', 'score', 'sd', 'scores'))\n\nvader %>% \n  filter(str_detect(token, '[A-Za-z1-9]', negate = TRUE)) %>% \n  group_by(bin = score %/% 1) %>% \n  mutate(y = row_number()) %>% \n  ungroup() %>% \n  ggplot(aes(bin, y, label = token)) +\n  geom_text(check_overlap = TRUE, fontface = 'bold', family = 'IBM Plex Sans') +\n  scale_y_continuous(NULL, breaks = NULL) +\n  labs(\n    x = '',\n    caption = 'To reduce the real-valued chaos, I rounded down emoticons\\' scores to the nearest integer'\n  ) +\n  theme(\n    panel.grid.major.x = element_blank(),\n    axis.text = element_text(face = 'bold'),\n    panel.grid.minor.x = element_line(linetype = 2, color = 'grey35')\n  ) +\n  guides(color = 'none')\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\nI don't want to make this dictionary seem trivial. Its creators also validated it using sentences from New York Times editorials, as well. It's just not every day that you can make a histogram of emoticons.\n\n* **R Packages**: As far as I know, it's not in any. You can get it directly from its [github repository](https://github.com/cjhutto/vaderSentiment/blob/master/vaderSentiment/vader_lexicon.txt).\n* **Side Benefit**: This is probably the one that your \"pythonista\" friends are familiar with, since it's in the `nltk` library.\n\n## Coverage Comparison for AFINN, BING, and NRC\n\n\n::: {.cell}\n\n```{.r .cell-code}\nafinn <- get_sentiments(lexicon = 'afinn')\nbing <- get_sentiments(lexicon = 'bing')\nnrc_emotions <- filter(get_sentiments(lexicon = 'nrc'), \n                    !(sentiment %in% c('positive', 'negative')))\nnrc_polar <- filter(get_sentiments(lexicon = 'nrc'), \n                    sentiment %in% c('positive', 'negative'))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nbind_rows(\n  select(mutate(afinn, lexicon = 'AFINN'), word, lexicon),\n  select(mutate(bing, lexicon = 'BING'), word, lexicon),\n  select(mutate(nrc_polar, lexicon = 'NRC'), word, lexicon)) %>% \n  summarise(Lexica = list(lexicon), .by = word) %>% \n  ggplot(aes(Lexica)) +\n  geom_bar() +\n  scale_x_upset(n_intersections = 7) +\n  theme_minimal() +\n  theme(\n    panel.grid.major.x = element_blank(),\n    panel.grid.minor.y = element_blank()\n  ) +\n  labs(\n    y = 'Set Size',\n    x = 'Set',\n    title = 'Are Bigger Dictionaries Mostly Supersets of Smaller Dictionaries?',\n    subtitle = \"No, and that's weird\"\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\nWe can see how many entries each dictionary has:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nc(nrow(afinn), nrow(bing), nrow(nrc_polar))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2477 6786 5626\n```\n:::\n:::\n\n\nHere we see a surprising amount of non-overlap. Of Bing's 6786 terms, almost 4,000 do not appear in either of the other two dictionaries. Almost 3,000 of NRC's polarity entries aren't in either of the other two, as well. The third bar indicates that BING and NRC share just over 1,500 words. The short and long of this is that it *might* be important which dictionary we choose. They have very different coverages.^[This situation should seem strange. I'd argue that your priors should have closer to, \"Bigger dictionaries will be more like supersets of smaller ones than mostly non-intersecting bigger sets.\" Think about it this way. If *you* were creating a sentiment dictionary, you'd try to gather all the most important emotion words and score their polarity. If you found out someone had created a bigger sentiment dictionary, you'd assume that either they included more generically obscure words or maybe words unique to a given time or application. In either case, you'd expect their dictionary contain at least most of your words. But no, that's not what happened here. Again, on the dictionary page I delve into this.]\n\n## Still to do\n\nThis page, like the rest of my life, is a work in progress. \n\n1. I still have a few dictionaries to add:\n  * In Tyler Rinker's `lexicon` package there are: jockers (and jockers_rinker), emojis (and emojis_sentiment), senticnet, sentiword, slangsd, socal_google.\n  * In Emil Hvitfeldt's [`textdata` package](https://github.com/EmilHvitfeldt/textdata) there are a couple more.\n2. I'm  going to lemmatize/stem the dictionaries covered and get their size and overlaps as I did with AFINN, BING, and NRC above. It's possible that sizes are much more similar once you remove a bunch of morphological tangle.\n3. Inspired by this sentence from Nielsen, \"The word list have a bias towards negative words (1598, corresponding to 65%) compared to positive words (878)m\" I'm also going to see what the respective positive/negative balances are of these dictionaries.\n\n# Recommended Usage and Tendentious Postscript\n\nSo, how should you use this\n\n* see Ezra case study\n* use `sentimentr`!!\n\nSomething a little wild to keep in mind. The way these dictionaries arrived at their codings of words ranges from a lower bound of sensible to downright impressive. That's obviously good. Keep in mind, however, that you're **not** categorizing words as good or bad. You're using words as features to get calculate sentiment at some level of aggregation, and there's a chasmic categorical difference between that task and (sub-)task of classifying words. Even if the word ratings had been arrived at perfectly, using \"the dictionary approach\" to measure aggregate sentiment is another task entirely, one that requires separate validation. It would entail having people rate the sentiment of sentences/utterances/paragraphs, taking those as ground truth, and then seeing how well these dictionaries capture that. As far as I know, only Mr. Finn Arup Nielsen did that for his AFINN dictionary (and to so-so results even *within* the domain of social media; external validity would be another matter). So, always keep in mind what you're doing. You're throwing a bunch of text into a blender that gives you a read-out of some of that text's ingredients. You're *not* getting a direct reading of the text's emotional valence XXX\n\n# Appendix\n\nYou see how there's that chic graph at the top of this page? Two things about that. First, I was originally going for something more boomercringe:\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\nAs bad as it is, I couldn't get it to be bad in the way I wanted it. So now it's down here.\n\nThe second thing is its inspiration. There's this [Matthrew Jockers](https://www.matthewjockers.net/blog-posts/) fella who was interested in 'foundation shapes' of stories, where 'foundation shapes' are basically the affective trajectories (you plot the sentiment scores of chinks of text against the sequence of chunks). I think they might be useful, but something in the exposition made me think someone had watched one too many of Jordan Peterson's [old videos](https://youtu.be/9ZiEmDFeuuI?si=4dbLkuLr5weKq0OH) on YouTube. Anyway, people who think about these things point out that when you do these sorts of analyses, you have to think about the issue of aggregation. If you aggregate over too wide a span, you might flatten meaningful peaks and valleys. What you see in both the chic and cringe sinusoids is net zero affect. That's all.",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}